<!DOCTYPE html>
<html>
<head>
  <title>EMR_Preg_CC</title>
  <style>
    .form-group {
      margin-bottom: 10px;
      text-align: right; /* Align labels to the right */
    }

    /* Align input fields to the right */
    input[type="text"] {
      text-align: right;
    }
  </style>
</head>
<body>
  <div id="contentContainer">
    <form id="pregnancyForm">
      <div class="form-group">
        <label for="pregnancyNumber">Pregnancy #:</label>
        <input type="text" id="pregnancyNumber" />
      </div>
      <div class="form-group">
        <label for="weeks">Weeks:</label>
        <input type="text" id="weeks" />
      </div>
      <div class="form-group">
        <label for="dueDate">Due Date:</label>
        <input type="text" id="dueDate" />
      </div>
      <div class="form-group">
        <label for="diagnosis">Diagnosis:</label>
        <input type="text" id="diagnosis" />
      </div>
      <div class="form-group">
        <label for="transferredFrom">Transferred from GY:</label>
        <input type="text" id="transferredFrom" />
      </div>
      <button type="button" id="addButton">Add Pregnancy</button>
    </form>
  </div>

  <script>
    var thypreg = [];
    var textFields = [];

    function init() {
      textFields.push(document.getElementById("pregnancyNumber"));
      textFields.push(document.getElementById("weeks"));
      textFields.push(document.getElementById("dueDate"));
      textFields.push(document.getElementById("diagnosis"));
      textFields.push(document.getElementById("transferredFrom"));

      var addButton = document.getElementById("addButton");
      addButton.addEventListener("click", function() {
        addPregnancyData();
        printPregnancyData();
        clearTextFields();
      });
    }

    function addPregnancyData() {
      var pregnancyData = [];
      for (var i = 0; i < textFields.length; i++) {
        pregnancyData.push(textFields[i].value.trim());
      }
      thypreg.push(pregnancyData.join(","));
    }

    function clearTextFields() {
      for (var i = 0; i < textFields.length; i++) {
        textFields[i].value = "";
      }
    }

    function printPregnancyData() {
      var resultContainer = document.getElementById("contentContainer");
      for (var i = 0; i < thypreg.length; i++) {
        var dataArray = thypreg[i].split(",");
        if (dataArray.length >= 5) {
          var p0 = dataArray[0];
          var p1 = dataArray[1];
          var p2 = dataArray[2];
          var p3 = dataArray[3];
          var p4 = dataArray[4];

          var pp3 = convertP3ToString(p3);
          var pp4 = convertP4ToString(p4);

          var result = "#" + p0 + " pregnancy " + p1 + " weeks Due-date " + p2 + "<br>" + pp3 + " at " + pp4 + "<br><br>";
          resultContainer.innerHTML += result;
        }
      }
    }

    function convertP3ToString(p3) {
      switch (p3) {
        case "o":
          return "Hypothyroidism Diagnosed";
        case "e":
          return "Hyperthyroidism diagnosed";
        case "n":
          return "TFT abnormality";
        default:
          return "존재하지 않는 결과 입니다.";
      }
    }

    function convertP4ToString(p4) {
      switch (p4) {
        case "c":
          return "청담마리 산부인과";
        case "d":
          return "도곡함춘 산부인과";
        case "o":
          return "기타 산부인과";
        default:
          return "존재하지 않는 산부인과 입니다.";
      }
    }

    document.addEventListener("DOMContentLoaded", init);
  </script>
</body>
</html>
